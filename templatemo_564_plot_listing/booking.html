<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Room Booking System</title>
  <!-- Import Ant Design CSS for basic styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.13/antd.min.css">
  <link rel="stylesheet" href="assets/css/booking.css"> <!-- Path to external CSS -->
</head>
<body>
  <!-- Header Section -->
  <header class="site-header">
    <div class="container">
        <div class="logo-container">
            <img src="assets/images/logoBD.jpg" alt="BD Logo" class="logo">
        </div>
        <nav class="site-nav">
            <a href="#">Home</a>
            <a href="#">Rooms</a>
            <a href="#">Contact Us</a>
            <a href="#">About</a>
        </nav>
    </div>
  </header>

  <!-- Booking Section -->
  <section class="booking-section">
    <div class="booking-header">
        <h2>Room 101 - Meeting Room</h2>
        <img src="assets/images/Public-Room.jpg" alt="Room 101 Image" class="room-image">
        <ul class="room-features">
            <li>Air Condition</li>
            <li>Projector</li>
            <li>Table</li>
            <li>Chair</li>
        </ul>
    </div>

    <!-- Date & Time Slot Selection -->
    <div class="details">
        <h3>Select Booking Date & Time</h3>
        <label for="datePicker">Date:</label>
        <input type="date" id="datePicker" class="date-input">
        <br>
        <label for="timeSlot">Time Slot:</label>
        <select id="timeSlot" class="time-slot">
            <option value="morning">Morning (8 AM - 12 PM)</option>
            <option value="afternoon">Afternoon (1 PM - 5 PM)</option>
            <option value="fullDay">Full Day</option>
        </select>
    </div>

    <!-- Services Section -->
    <div class="services-section">
        <h3>Add More Services <span style="font-size: 12px;">(Hover for details)</span></h3>
        <button id="addServicesBtn" class="primary-btn">Add Services</button>
        <div id="servicesOptions" style="display:none;">
            <label><input type="checkbox" class="service-checkbox" id="cafeService" data-price="15000" title="Refreshments provided"> Cafe Service - 15,000đ</label><br>
            <label><input type="checkbox" class="service-checkbox" id="printService" data-price="20000" title="Printing and photocopying services"> Print Service - 20,000đ</label>
        </div>
    </div>

    <div class="total">
        <p>Total: <span id="totalPrice">600</span>đ</p>
        <button id="paymentBtn" class="primary-btn">Proceed to Payment</button>
    </div>
  </section>

  <!-- User Information Section -->
  <section class="user-info-section">
      <h3>User Information</h3>
      <form id="userForm" class="user-form">
        <label for="name">Name:</label>
        <input type="text" id="name" required placeholder="Enter your full name">
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" required placeholder="Enter your email">
        <br>
        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" required placeholder="Enter your phone number">
        <br>
        <button type="submit" class="primary-btn">Submit</button>
      </form>
  </section>

  <!-- Booking Summary Section -->
  <section class="booking-summary">
      <h3>Booking Summary</h3>
      <p>Room: <span id="summaryRoom">Room 101 - Meeting Room</span></p>
      <p>Date: <span id="summaryDate"></span></p>
      <p>Time Slot: <span id="summaryTimeSlot"></span></p>
      <p>Services: <span id="summaryServices"></span></p>
      <p>Total Price: <span id="summaryTotalPrice">600</span>đ</p>
      <button id="confirmBtn" class="primary-btn">Confirm Booking</button>
  </section>

  <!-- Footer Section -->
  <footer class="site-footer">
    <div class="container">
      <p>&copy; 2024 BD.COM. All rights reserved.</p>
    </div>
  </footer>

  <!-- JavaScript for service selection and calculations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.13/antd.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const { Modal, notification } = antd;
      let selectedServices = [];
      let totalPrice = 600;

      const totalPriceElement = document.getElementById('totalPrice');
      const summaryServicesElement = document.getElementById('summaryServices');
      const summaryTotalPriceElement = document.getElementById('summaryTotalPrice');
      const addServicesBtn = document.getElementById('addServicesBtn');
      const servicesSection = document.getElementById('servicesOptions');

      // Open the service selection when "Add Services" is clicked
      addServicesBtn.addEventListener('click', function () {
        servicesSection.style.display = servicesSection.style.display === 'none' ? 'block' : 'none';
      });

      // Handle service checkbox changes and update total price
      const serviceCheckboxes = document.querySelectorAll('.service-checkbox');
      serviceCheckboxes.forEach((checkbox) => {
        checkbox.addEventListener('change', function () {
          updateTotal();
        });
      });

      // Update total price and selected services
      const updateTotal = () => {
        totalPrice = 600; // Reset base price
        selectedServices = [];

        serviceCheckboxes.forEach((checkbox) => {
          if (checkbox.checked) {
            const serviceName = checkbox.parentNode.textContent.trim();
            selectedServices.push(serviceName);
            totalPrice += parseInt(checkbox.dataset.price, 10);
          }
        });

        totalPriceElement.textContent = totalPrice.toLocaleString('vi-VN');
        summaryServicesElement.textContent = selectedServices.join(', ');
        summaryTotalPriceElement.textContent = totalPrice.toLocaleString('vi-VN');
      };

      // Show confirmation modal when Proceed to Payment is clicked
      document.getElementById('paymentBtn').addEventListener('click', function () {
        Modal.confirm({
          title: 'Confirm Your Booking',
          content: `You are about to book Room 101 for ${totalPrice.toLocaleString('vi-VN')}đ. Are you sure?`,
          onOk() {
            notification.success({
              message: 'Booking Confirmed',
              description: `Your booking for Room 101 has been confirmed!`
            });
          },
          onCancel() {
            notification.warning({
              message: 'Booking Canceled',
              description: `Your booking process has been canceled.`
            });
          }
        });
      });

    });
  </script>
</body>
</html>
